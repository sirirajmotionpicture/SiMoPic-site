---
import { Image } from 'astro:assets';
import BaseLayout from '@/layouts/BaseLayout.astro';
const pageTitle = "Movie Night - Siriraj Motion Picture Club";

import { getCollection } from 'astro:content';
const publishedMovieNight = await getCollection('movienight', ({ data }) => {
  return data.draft !== true;
});
const sortedMovieNight = publishedMovieNight.sort(
  (a, b) => a.data.date.valueOf() - b.data.date.valueOf(),
);

const d = new Date();
---
<BaseLayout pageTitle={pageTitle}>
    <div class="w-full h-[calc(var(--banner-height-sm)*2/3)] md:h-[calc(var(--banner-height)*2/3)] relative flex m-auto">
        <div class="flex m-auto italic font-bold text-center text-4xl">
            COMING SOON
        </div>
    </div>
    

    <!--

    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">

        <div class="col-span-1 h-full">
            <div class="sm:sticky top-4 md:top-8">
                <div class ="pagetitle">MOVIE NIGHT</div>
                <div class="sectionb">
                    Lorem ipsum, dolor sit amet consectetur adipisicing elit. Placeat dolores blanditiis earum corrupti quia rerum asperiores tenetur perferendis error quos. Optio laborum laudantium incidunt reprehenderit, quas iure repellat nesciunt maxime.
                </div>
                <a href="" class=""><div class="buttonbg"><div class="button">ðŸ“® Register here</div></div></a>    

            </div>
        </div>

        <div class="col-span-1 lg:col-span-2 sm:pt-16">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
                {sortedMovieNight.map((post: any) => 
                    <div class="grid grid-cols-2 pb-0">
                        <div class="border-zinc-400 border-y-1 border-l-1"><Image src={post.data.cover} alt="" class="aspect-13/19 object-cover" /></div>
                        <div class="flex flex-col">
                            <div class="flex-none sectionhnm">{post.data.title}</div>
                            <div class="grow sectionbnm text-center">
                                <p class="font-bold pb-2 text-sm">{post.data.date.toUTCString().slice(0,16)} <br> {post.data.time}</p>
                                <p class="text-xs">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="fill-zinc-300 size-3 inline"><path fill-rule="evenodd" d="m7.539 14.841.003.003.002.002a.755.755 0 0 0 .912 0l.002-.002.003-.003.012-.009a5.57 5.57 0 0 0 .19-.153 15.588 15.588 0 0 0 2.046-2.082c1.101-1.362 2.291-3.342 2.291-5.597A5 5 0 0 0 3 7c0 2.255 1.19 4.235 2.292 5.597a15.591 15.591 0 0 0 2.046 2.082 8.916 8.916 0 0 0 .189.153l.012.01ZM8 8.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z" clip-rule="evenodd" /></svg> {post.data.place}<br>
                                    {post.data.date >= d &&
                                        <br/><span class="rounded-full italic font-bold m-2 px-2 py-1 buttonbg text-zinc-950">
                                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-4 inline"><path fill-rule="evenodd" d="M5 4a.75.75 0 0 1 .738.616l.252 1.388A1.25 1.25 0 0 0 6.996 7.01l1.388.252a.75.75 0 0 1 0 1.476l-1.388.252A1.25 1.25 0 0 0 5.99 9.996l-.252 1.388a.75.75 0 0 1-1.476 0L4.01 9.996A1.25 1.25 0 0 0 3.004 8.99l-1.388-.252a.75.75 0 0 1 0-1.476l1.388-.252A1.25 1.25 0 0 0 4.01 6.004l.252-1.388A.75.75 0 0 1 5 4ZM12 1a.75.75 0 0 1 .721.544l.195.682c.118.415.443.74.858.858l.682.195a.75.75 0 0 1 0 1.442l-.682.195a1.25 1.25 0 0 0-.858.858l-.195.682a.75.75 0 0 1-1.442 0l-.195-.682a1.25 1.25 0 0 0-.858-.858l-.682-.195a.75.75 0 0 1 0-1.442l.682-.195a1.25 1.25 0 0 0 .858-.858l.195-.682A.75.75 0 0 1 12 1ZM10 11a.75.75 0 0 1 .728.568.968.968 0 0 0 .704.704.75.75 0 0 1 0 1.456.968.968 0 0 0-.704.704.75.75 0 0 1-1.456 0 .968.968 0 0 0-.704-.704.75.75 0 0 1 0-1.456.968.968 0 0 0 .704-.704A.75.75 0 0 1 10 11Z" clip-rule="evenodd" /></svg>
                                            UPCOMING
                                        </span>
                                    }
                            </div> 
                        </div>
                    </div>
                )}
            </div>
        </div>

    </div>
    -->

</BaseLayout>